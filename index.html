<!DOCTYPE html>
<html lang="it" data-theme="auto">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>17/19 Urban Bistrot • Techno • Electro • House</title>
  <meta name="description" content="17/19 Urban Bistrot Roma. DJ set in vinile curated by Riccardo Battaglia. Colazioni, pranzi, cene e cocktail signature." />
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0b0b0b" media="(prefers-color-scheme: dark)">
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet"/>

  <style>
    /* ================= THEME TOKENS ================= */
    :root{
      /* Light (default) */
      --bg:#ffffff; --fg:#0b0b0b; --muted:#6b7280; --line:#e5e7eb;
      --accent:#ff1f3d; --accent-fg:#ffffff;
      --chip:#f4f4f5; --chip-fg:#0b0b0b;
      --radius:16px; --pad:clamp(16px,4vw,32px); --max:1120px;
    }
    @media (prefers-color-scheme: dark){
      html[data-theme="auto"]{
        --bg:#0b0b0b; --fg:#ffffff; --muted:#9ca3af; --line:#1f1f1f;
        --accent:#ff1f3d; --accent-fg:#000000;
        --chip:#121212; --chip-fg:#e5e7eb;
      }
    }
    html[data-theme="light"]{
      --bg:#ffffff; --fg:#0b0b0b; --muted:#6b7280; --line:#e5e7eb;
      --accent:#ff1f3d; --accent-fg:#ffffff;
      --chip:#f4f4f5; --chip-fg:#0b0b0b;
    }
    html[data-theme="dark"]{
      --bg:#0b0b0b; --fg:#ffffff; --muted:#9ca3af; --line:#1f1f1f;
      --accent:#ff1f3d; --accent-fg:#000000;
      --chip:#121212; --chip-fg:#e5e7eb;
    }

    /* ================ BASE UI ================ */
    *{box-sizing:border-box}
    html,body{margin:0}
    body{background:var(--bg);color:var(--fg);font-family:'Space Grotesk',system-ui,sans-serif;line-height:1.6}
    img{max-width:100%;display:block}
    .container{max-width:var(--max);margin-inline:auto;padding-inline:var(--pad)}
    section{padding:72px 0}
    .grid{display:grid;gap:16px}
    .grid-2{grid-template-columns:1fr}
    .grid-3{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .only-desktop{display:none}
    .only-mobile{display:inline-flex}
    @media (min-width: 768px){
      .grid-2{grid-template-columns:1.2fr .8fr}
      .only-desktop{display:inline-flex}
      .only-mobile{display:none}
    }

    /* ===== Header ===== */
    header{position:fixed;top:0;left:0;right:0;background:transparent;border-bottom:0;z-index:100}
    header.header--solid{background:color-mix(in oklab, var(--bg) 85%, transparent);border-bottom:1px solid var(--line);backdrop-filter:saturate(140%) blur(8px)}
    nav{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:12px;text-decoration:none;color:inherit}
    .brand img{height:48px;width:auto}
    @media (min-width:768px){ .brand img{ height:56px } }
    /* Logo swap */
    .logo-dark{display:none}
    .logo-light{display:inline}
    html[data-theme="dark"] .logo-light{display:none}
    html[data-theme="dark"] .logo-dark{display:inline}
    html[data-theme="light"] .logo-light{display:inline}
    html[data-theme="light"] .logo-dark{display:none}
    @media (prefers-color-scheme: dark){
      html[data-theme="auto"] .logo-light{display:none}
      html[data-theme="auto"] .logo-dark{display:inline}
    }
    @media (prefers-color-scheme: light){
      html[data-theme="auto"] .logo-light{display:inline}
      html[data-theme="auto"] .logo-dark{display:none}
    }
    .nav-desktop{display:none;gap:18px;align-items:center;list-style:none;margin:0;padding:0}
    .nav-desktop a{color:var(--fg);text-decoration:none;font-weight:600;opacity:.82}
    .nav-desktop a:hover{opacity:1}
    @media (min-width:768px){ .nav-desktop{display:flex} }

    .pill{display:inline-flex;align-items:center;gap:.55rem;padding:.55rem .9rem;border:1px solid var(--line);border-radius:999px;text-decoration:none;font-weight:700;background:var(--chip);color:var(--chip-fg)}
    .pill--accent{background:var(--accent);border-color:var(--accent);color:var(--accent-fg)}
    .pill--ghost{background:transparent}
    .pill:where(:hover,:focus-visible){transform:translateY(-1px);transition:transform .15s ease}

    .toggle{width:40px;height:40px;border:1px solid var(--line);border-radius:12px;background:var(--chip);color:var(--chip-fg);display:grid;place-items:center;cursor:pointer}
    .menu-toggle{width:44px;height:44px;border:1px solid var(--line);border-radius:12px;background:var(--chip);display:grid;place-items:center;cursor:pointer}
    .menu-toggle span,.menu-toggle span::before,.menu-toggle span::after{display:block;width:18px;height:2px;background:var(--fg);content:"";position:relative}
    .menu-toggle span::before{position:absolute;top:-6px}
    .menu-toggle span::after{position:absolute;top:6px}

    /* ===== Mobile sheet ===== */
    .sheet{position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;pointer-events:none;transition:.2s;z-index:60}
    .sheet.active{opacity:1;pointer-events:auto}
    .sheet__panel{position:absolute;right:0;top:0;bottom:0;width:min(90vw,360px);background:var(--bg);border-left:1px solid var(--line);padding:18px;transform:translateX(100%);transition:.25s}
    .sheet.active .sheet__panel{transform:translateX(0)}
    .sheet__list{list-style:none;margin:8px 0 0;padding:0;display:grid;gap:8px}
    .sheet__list a{display:block;padding:12px 10px;border-radius:12px;border:1px solid var(--line);text-decoration:none;color:var(--fg);font-weight:700;background:var(--chip)}
    .sheet__list a:hover{filter:brightness(1.02)}
    .sheet__cta{display:inline-flex;margin-top:10px}

    /* ===== Hero ===== */
    .hero{padding:52px 0 20px}
    .tag{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--line);border-radius:999px;padding:6px 10px;font-weight:700;color:var(--muted);background:var(--chip)}
    h1{font-family:'Orbitron',monospace;font-weight:900;text-transform:uppercase;letter-spacing:.01em;font-size:clamp(2.1rem,8vw,3.6rem);line-height:1.1;margin:12px 0 10px}
    .lead{color:var(--fg);font-size:clamp(1rem,4.5vw,1.22rem);margin:8px 0 14px}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{border:1px solid var(--line);border-radius:999px;font-size:.8rem;font-weight:800;padding:6px 10px;background:var(--chip);color:var(--chip-fg)}

    /* ===== Media frame (riusato per Live Shots) ===== */
    .hero-media{position:relative;border:1px solid var(--line);border-radius:16px;overflow:hidden;aspect-ratio:4/5;background:var(--chip);margin-top:14px}
    @media (min-width:768px){ .hero-media{aspect-ratio:16/9;margin-top:18px} }
    .slide{position:absolute;inset:0;opacity:0;transition:opacity .35s}
    .slide.active{opacity:1}
    .dots{position:absolute;left:0;right:0;bottom:8px;display:flex;gap:6px;justify-content:center}
    .dot{width:8px;height:8px;border-radius:999px;background:#a1a1aa;border:1px solid #00000020;cursor:pointer;opacity:.85}
    .dot.active{background:#fff;opacity:1}

    /* ===== Cards ===== */
    .card{border:1px solid var(--line);border-radius:16px;padding:16px;background:color-mix(in oklab, var(--bg) 96%, transparent)}
    .block-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .block-title h3{font-family:'Orbitron',monospace;font-size:1rem;margin:0;letter-spacing:.02em}
    .meta{color:var(--muted);font-size:.95rem}

    /* ===== Time grid ===== */
    .time-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:6px}
    @media (max-width:480px){ .time-grid{grid-template-columns:1fr} }
    .row{display:flex;align-items:center;gap:10px;justify-content:space-between;border:1px solid var(--line);border-radius:12px;padding:10px 12px;background:var(--chip)}
    .row .l{display:flex;align-items:center;gap:10px}
    .i{width:28px;height:28px;display:inline-grid;place-items:center}

    /* ===== Menu ===== */
    .badge{display:inline-block;background:var(--accent);color:var(--accent-fg);padding:6px 10px;border-radius:999px;font-size:.75rem;font-weight:900}
    .menu-item{display:flex;justify-content:space-between;gap:10px;padding:12px 0;border-bottom:1px dashed var(--line)}
    .menu-item:last-child{border-bottom:0}
    .price{color:var(--accent);font-weight:800}

    /* ===== Events ===== */
    .event{display:flex;gap:16px;align-items:center;border:1px solid var(--line);border-radius:16px;padding:14px;background:color-mix(in oklab, var(--bg) 96%, transparent)}
    .event__date{min-width:66px;text-align:center;border:1px solid var(--line);border-radius:12px;padding:8px 10px;background:var(--chip)}
    .event__dow{font-weight:900}
    .event__day{font-size:1.4rem;font-weight:900;line-height:1}
    .event__meta{color:var(--muted);font-size:.95rem}
    .event__cta{margin-left:auto}

    /* ===== Gallery ===== */
    .gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    @media (min-width:768px){ .gallery{grid-template-columns:repeat(4,1fr)} }
    .gallery a{position:relative;border:1px solid var(--line);border-radius:12px;overflow:hidden;background:var(--chip)}
    .credit{position:absolute;left:8px;bottom:8px;background:rgba(0,0,0,.55);color:#fff;padding:4px 6px;border-radius:8px;font-size:.75rem}

    /* ===== Map ===== */
    .map{border:1px solid var(--line);border-radius:16px;overflow:hidden}
    .map iframe{width:100%;height:320px;border:0}
    @media (min-width:768px){ .map iframe{height:360px} }

    /* ===== Footer + FAB ===== */
    footer{border-top:1px solid var(--line);padding:28px 0;color:var(--muted);text-align:center}
    .fab{position:fixed;right:16px;bottom:16px;width:56px;height:56px;border-radius:999px;background:var(--accent);display:grid;place-items:center;box-shadow:0 10px 22px rgba(0,0,0,.15);text-decoration:none;z-index:80}
    .fab svg{width:26px;height:26px}
    .fab path{fill:var(--accent-fg)}

    /* ===== Reveal ===== */
    .reveal{opacity:0;transform:translateY(16px);transition:opacity .5s ease, transform .5s ease}
    .reveal.active{opacity:1;transform:translateY(0)}

    /* ===== Poster (hero) ===== */
    .poster-frame{position:relative;border:1px solid var(--line);border-radius:20px;background:var(--bg);overflow:hidden}
    .poster-inner{position:relative;padding:clamp(18px,4vw,28px)}
    .poster-head{display:flex;flex-direction:column;align-items:center;text-align:center;gap:10px}
    .poster-head .venue{font-weight:900;letter-spacing:.10em;text-transform:uppercase;font-size:clamp(.9rem,1.8vw,1.05rem)}
    .poster-head .series{font-family:'Orbitron',monospace;font-weight:900;letter-spacing:.08em;text-transform:uppercase;font-size:clamp(2rem,6.5vw,3.2rem);line-height:1.05}
    .poster-head .date{font-weight:900;letter-spacing:.10em;text-transform:uppercase;font-size:clamp(1rem,3.5vw,1.35rem)}
    .poster-head .tagline{margin-top:6px;font-weight:900;letter-spacing:.10em;text-transform:uppercase;color:var(--fg);font-size:clamp(.85rem,2.4vw,1rem)}
    .poster-head .curated{color:var(--muted);font-weight:700;letter-spacing:.08em;text-transform:uppercase;font-size:clamp(.8rem,2.2vw,.95rem)}
    .poster-canvas{position:relative;margin-top:clamp(18px,3.5vw,28px);height:clamp(320px,56vw,480px)}
    .poster-svg{position:absolute;inset:0;color:var(--fg);z-index:0}
    .poster-svg line{vector-effect:non-scaling-stroke;stroke-width:.5;stroke-linecap:square;stroke-dasharray:120;stroke-dashoffset:120;animation:lineDraw .9s ease forwards}
    @keyframes lineDraw{to{stroke-dashoffset:0}}
    .artist{position:absolute;transform:translateY(-50%);font-weight:900;letter-spacing:.06em;text-transform:uppercase;white-space:nowrap;background:var(--bg);padding:2px .35em;border-radius:4px;z-index:1;box-shadow:0 0 0 1px var(--bg) inset}
    .artist .dot{display:inline-block;width:6px;height:6px;border-radius:1px;background:var(--fg);margin-right:10px;vertical-align:middle}
    .poster-logos{position:absolute;left:0;right:0;bottom:0;padding:12px;border-top:1px solid var(--line);display:flex;gap:12px;justify-content:center;align-items:center}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <nav aria-label="principale">
        <a class="brand" href="#">
          <img class="logo-light" src="https://cdn.shopify.com/s/files/1/0887/8332/3459/files/1719logooo.svg?v=1755102480" alt="17/19 Urban Bistrot - Logo"/>
          <img class="logo-dark"  src="https://cdn.shopify.com/s/files/1/0887/8332/3459/files/1719logobianco.svg?v=1755104086" alt="17/19 Urban Bistrot - Logo (dark)"/>
        </a>

        <ul class="nav-desktop">
          <li><a href="#about">About</a></li>
          <li><a href="#menu">Menu</a></li>
          <li><a href="#music">Musica</a></li>
          <li><a href="#events">Eventi</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#contact">Contatti</a></li>
          <li><a class="pill pill--accent" href="https://wa.me/393298252092?text=Ciao%2017%2F19%20Urban%20Bistrot%2C%20vorrei%20prenotare" target="_blank" rel="noopener">Prenota</a></li>
          <li class="only-desktop">
            <button id="themeToggle" class="toggle" aria-label="Tema: automatico"></button>
          </li>
        </ul>

        <div class="only-mobile" style="gap:8px;align-items:center">
          <button id="themeToggleM" class="toggle" aria-label="Tema: automatico"></button>
          <button class="menu-toggle" id="menuToggle" aria-label="Apri/chiudi menu">
            <span></span>
          </button>
        </div>
      </nav>
    </div>
  </header>

  <!-- Mobile sheet -->
  <div class="sheet" id="sheet" aria-hidden="true">
    <aside class="sheet__panel" role="dialog" aria-label="menu mobile">
      <ul class="sheet__list">
        <li><a href="#about">About</a></li>
        <li><a href="#menu">Menu</a></li>
        <li><a href="#music">Musica</a></li>
        <li><a href="#events">Eventi</a></li>
        <li><a href="#gallery">Gallery</a></li>
        <li><a href="#contact">Contatti</a></li>
      </ul>
      <a class="pill pill--accent sheet__cta" href="https://wa.me/393298252092?text=Ciao%2017%2F19%20Urban%20Bistrot%2C%20vorrei%20prenotare" target="_blank" rel="noopener">Prenota</a>
    </aside>
  </div>

  <!-- Hero: Poster -->
  <section class="hero">
    <div class="container grid grid-2">
      <div class="reveal">
        <div class="poster-frame">
          <div class="poster-inner">
            <div class="poster-head">
              <div class="venue" id="posterVenue"></div>
              <div class="series" id="posterSeries"></div>
              <div class="date" id="posterDate"></div>
              <div class="tagline" id="posterTagline"></div>
              <div class="curated" id="posterCurated"></div>
            </div>
            <div class="poster-canvas" id="posterCanvas">
              <svg class="poster-svg" id="posterSvg" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true"></svg>
            </div>
            <div class="poster-logos" id="posterLogos" aria-hidden="true"></div>
          </div>
        </div>
        <span class="tag" style="margin-top:12px">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="margin-right:6px">
            <path d="M12 22s7-5.33 7-12a7 7 0 1 0-14 0c0 6.67 7 12 7 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
          </svg>
          Roma • Via di Santa Costanza 17/19
        </span>
      </div>

      <aside class="card reveal" aria-label="Orari & servizio">
        <div class="block-title"><h3>Orari</h3><span class="meta">Servizio cucina</span></div>
        <div class="time-grid">
          <div class="row">
            <div class="l">
              <span class="i" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M17 8h1a4 4 0 0 1 0 8h-1"/><path d="M3 8h14v6a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" y1="2" x2="6" y2="6"/>
                  <line x1="10" y1="2" x2="10" y2="6"/><line x1="14" y1="2" x2="14" y2="6"/>
                </svg>
              </span>
              <strong>Colazioni</strong>
            </div>
            <strong>08:00–12:00</strong>
          </div>
          <div class="row">
            <div class="l">
              <span class="i" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                  <path d="m16 4-12 12"/><path d="m20 7-7 7"/><path d="M8.5 16.5 4 21"/><path d="M15 4v7"/><path d="M19 4v3"/>
                </svg>
              </span>
              <strong>Pranzo</strong>
            </div>
            <strong>12:00–15:00</strong>
          </div>
          <div class="row">
            <div class="l">
              <span class="i" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M6 18v-2a6 6 0 0 1 12 0v2"/><path d="M4 22h16"/><path d="M8 18v4"/><path d="M16 18v4"/><path d="M7 8a5 5 0 0 1 10 0"/>
                </svg>
              </span>
              <strong>Cena</strong>
            </div>
            <strong>19:00–23:30</strong>
          </div>
          <div class="row">
            <div class="l">
              <span class="i" aria-hidden="true">
                <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="2"/><path d="M14 10h.01"/><path d="M10 14h.01"/>
                </svg>
              </span>
              <strong>DJ Set</strong>
            </div>
            <strong>22:00–02:00</strong>
          </div>
        </div>
        <div style="margin-top:14px;border-top:1px solid var(--line);padding-top:12px">
          <div class="meta">Weekend</div>
          <strong>Techno Vibes • Solo vinile</strong><br/>
          <span class="meta">Start 22:30</span>
        </div>
      </aside>
    </div>
  </section>

  <!-- Live Shots (unico carosello immagini) -->
  <section id="live">
    <div class="container">
      <div class="block-title" style="margin-bottom:14px"><h3>Live Shots</h3></div>
      <div class="hero-media" id="liveCarousel" aria-label="carosello">
        <div class="dots" id="liveDots"></div>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about">
    <div class="container grid grid-2">
      <div class="card reveal">
        <div class="block-title"><h3>Urban Bistrot</h3></div>
        <p style="margin:0">
          Specialty coffee, cucina contemporanea e serate in vinile.
          Line-up <strong>a cura di Riccardo Battaglia</strong>. Deep, minimal, acid.
        </p>
      </div>

      <div class="card reveal">
        <div class="block-title"><h3>Orari di apertura</h3></div>
        <div class="grid" style="gap:8px">
          <div class="row"><span>Lunedì</span><strong>Chiuso</strong></div>
          <div class="row"><span>Mar–Gio</span><strong>08:00–01:00</strong></div>
          <div class="row"><span>Ven–Sab</span><strong>08:00–02:00</strong></div>
          <div class="row"><span>Domenica</span><strong>08:00–01:00</strong></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Menu -->
  <section id="menu">
    <div class="container">
      <div class="grid grid-3">
        <div class="card reveal">
          <span class="badge">BREAKFAST</span>
          <h3 style="margin:10px 0 6px">Colazioni</h3>
          <div class="menu-item"><div>Cornetto Artigianale <span class="meta">crema/marmellata/vuoto</span></div><div class="price">€2</div></div>
          <div class="menu-item"><div>Avocado Toast <span class="meta">uovo poché, lime, pepe rosa</span></div><div class="price">€9</div></div>
          <div class="menu-item"><div>Pancake Stack <span class="meta">sciroppo d'acero, frutti rossi</span></div><div class="price">€8</div></div>
        </div>
        <div class="card reveal">
          <span class="badge">LUNCH</span>
          <h3 style="margin:10px 0 6px">Pranzo</h3>
          <div class="menu-item"><div>Caesar Salad <span class="meta">pollo, crostini, parmigiano</span></div><div class="price">€12</div></div>
          <div class="menu-item"><div>Club Sandwich <span class="meta">tacchino, bacon, pomodoro</span></div><div class="price">€13</div></div>
          <div class="menu-item"><div>Pasta del Giorno <span class="meta">chiedi allo staff</span></div><div class="price">€14</div></div>
        </div>
        <div class="card reveal">
          <span class="badge">DINNER</span>
          <h3 style="margin:10px 0 6px">Cena</h3>
          <div class="menu-item"><div>Polpo Grigliato <span class="meta">patate, olive, pomodorini</span></div><div class="price">€18</div></div>
          <div class="menu-item"><div>Black Burger <span class="meta">pane al carbone, cheddar, bacon</span></div><div class="price">€16</div></div>
          <div class="menu-item"><div>Risotto Techno <span class="meta">nero di seppia, lime, gamberi</span></div><div class="price">€17</div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- MUSICA -->
  <section id="music">
    <div class="container grid grid-2">
      <div class="card reveal">
        <div class="block-title"><h3>Musica • Vinyl Only</h3></div>
        <p style="margin-top:6px">
          Il suono del 17/19 unisce <strong>Roma</strong> e <strong>Berlino</strong>: groove ipnotici, minimal deep, acid
          e incursioni electro. La consolle è <strong>solo vinile</strong>, con selezioni curate da <strong>Riccardo Battaglia</strong>.
        </p>
        <ul style="margin:12px 0 0 18px;line-height:1.7">
          <li>Estetica <em>raw</em> e attitudine club</li>
          <li>Selezione <strong>electro / techno / house</strong> romana–berlinese</li>
          <li>Set estesi, warm-up e closing “storytelling”</li>
        </ul>
        <p class="meta" style="margin-top:10px">Manifesto: profondità, dinamica, eleganza. Zero compromessi sulla qualità.</p>
      </div>

      <div class="card reveal">
        <div class="block-title"><h3>Resident & Guests</h3></div>
        <p><strong>Resident</strong>: Riccardo Battaglia (curation, vinyl only)</p>
        <p><strong>Guests</strong>: selezione di dj e collezionisti romano/berlinesi, special set a sorpresa.</p>
        <div style="margin-top:10px;border-top:1px solid var(--line);padding-top:10px">
          <div class="block-title" style="margin:0"><h3>Impianto</h3><span class="meta">setup</span></div>
          <ul style="margin:8px 0 0 18px;line-height:1.7">
            <li>Giradischi e mixer pro, testine calibrate</li>
            <li>Sound system ottimizzato per pressione e dettaglio</li>
            <li>Monitoraggio sala e headroom controllata</li>
          </ul>
        </div>
        <p style="margin-top:12px">
          <a class="pill pill--ghost" href="https://wa.me/393298252092?text=Ciao%2017%2F19%20Urban%20Bistrot%2C%20vorrei%20proporre%20un%20DJ%20set" target="_blank" rel="noopener">Booking / Proposte</a>
        </p>
      </div>
    </div>
  </section>

  <!-- Events -->
  <section id="events">
    <div class="container">
      <div class="block-title" style="margin-bottom:14px"><h3>Prossimi Eventi</h3></div>
      <div class="grid" id="eventsList" style="gap:12px"></div>
      <!-- AGGIORNA SOLO l'array 'events' nello script. Il poster si sincronizza con il PROSSIMO evento -->
    </div>
  </section>

  <!-- Gallery -->
  <section id="gallery">
    <div class="container">
      <div class="grid gallery" id="galleryGrid"></div>
      <p class="meta" style="margin-top:8px;text-align:center">Immagini da fonti pubbliche, citate con link all’originale.</p>
    </div>
  </section>

  <!-- Contact + Map -->
  <section id="contact">
    <div class="container grid grid-2">
      <div class="card reveal">
        <div class="block-title"><h3>Contatti</h3></div>
        <p><strong>Indirizzo</strong><br/>Via di Santa Costanza 17/19 — 00198 Roma</p>
        <p><strong>Prenotazioni</strong><br/>
          WhatsApp: <a class="pill" href="https://wa.me/393298252092" target="_blank" rel="noopener">+39 329 825 2092</a><br/>
          Email: <a class="pill" href="mailto:info@1719bistrot.it">info@1719bistrot.it</a>
        </p>
        <p><strong>Social</strong><br/>
          <a class="pill" href="https://instagram.com/1719_cocktailbar" target="_blank" rel="noopener">Instagram</a>
          <a class="pill" href="https://www.facebook.com/p/1719-Cocktail-Bar-Bistrot-100077668764198/" target="_blank" rel="noopener">Facebook</a>
        </p>
      </div>

      <div class="card reveal">
        <div class="block-title">
          <h3>Dove siamo</h3>
          <a class="pill pill--accent" href="https://www.google.it/maps/place/17%2F19+Cocktail+Bar/@41.9226318,12.5118941,16z" target="_blank" rel="noopener">Apri su Google Maps</a>
        </div>
        <div class="map">
          <iframe title="Mappa 17/19 Urban Bistrot" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
            src="https://www.google.com/maps?q=41.9226318,12.5118941&z=16&output=embed"></iframe>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>&copy; 2025 17/19 Urban Bistrot Roma</p>
    </div>
  </footer>

  <!-- WhatsApp FAB -->
  <a class="fab" href="https://wa.me/393298252092?text=Ciao%2017%2F19%20Urban%20Bistrot" target="_blank" rel="noopener" aria-label="WhatsApp">
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M12 1.5c5.8 0 10.5 4.7 10.5 10.5S17.8 22.5 12 22.5A10.5 10.5 0 0 1 6.99 21.23L3 21l.82-3.89A10.45 10.45 0 0 1 1.5 12C1.5 6.2 6.2 1.5 12 1.5Z" fill="currentColor" opacity=".96"/>
      <path d="M16.63 14.62c-.19-.1-1.13-.6-1.3-.66-.17-.06-.29-.1-.42.1s-.49.66-.6.8c-.11.13-.22.15-.41.06-.19-.1-.81-.3-1.55-.98-.57-.51-.95-1.13-1.06-1.31-.11-.19-.01-.29.09-.39.09-.09.2-.24.29-.36.1-.12.13-.2.19-.33.06-.13.03-.25-.02-.35-.05-.1-.44-1.05-.6-1.45-.16-.39-.33-.33-.45-.34h-.38c-.13 0-.33.05-.5.24-.17.19-.66.65-.66 1.59 0 .94.68 1.85.78 2 .1.13 1.31 2.07 3.2 2.91.45.2.8.32 1.04.41.44.15.85.13 1.17.08.36-.05 1.1-.45 1.25-.89.15-.44.15-.82.11-.91-.05-.08-.16-.13-.41-.25Z" fill="#fff"/>
    </svg>
  </a>

  <script>
    /* ========== Scroll reveal ========== */
    const reveals = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e => { if(e.isIntersecting){ e.target.classList.add('active'); io.unobserve(e.target);} });
    },{ threshold:.14 });
    reveals.forEach(el=>io.observe(el));

    /* ========== Header translucido on scroll ========== */
    const header = document.querySelector('header');
    const onS = () => { header.classList.toggle('header--solid', window.scrollY > 8); };
    window.addEventListener('scroll', onS, {passive:true}); onS();

    /* ========== Mobile menu ========== */
    const sheet = document.getElementById('sheet');
    const toggleBtn = document.getElementById('menuToggle');
    const openMenu = ()=>sheet.classList.add('active');
    const closeMenu = ()=>sheet.classList.remove('active');
    toggleBtn.addEventListener('click', ()=> sheet.classList.contains('active') ? closeMenu() : openMenu());
    sheet.addEventListener('click', (e)=>{ if(e.target === sheet) closeMenu(); });
    sheet.querySelectorAll('a').forEach(a=> a.addEventListener('click', ()=> setTimeout(closeMenu,100)));

    /* ========== Link esterni fix (niente rimbalzo) ========== */
    (function(){
      document.querySelectorAll('a[href^="http"]').forEach(a=>{
        try{ const u=new URL(a.getAttribute('href'), location.href); if(u.origin!==location.origin){ a.setAttribute('target','_blank'); a.setAttribute('rel','noopener'); } }catch{}
      });
      document.addEventListener('click', function(e){
        const a = e.target.closest('a[href]'); if(!a) return;
        const href = a.getAttribute('href'); if(!href) return;
        if(href.startsWith('#') || href.startsWith('mailto:') || href.startsWith('tel:') || href.startsWith('javascript:')) return;
        let isExternal=false; try{ isExternal = (new URL(href, location.href).origin !== location.origin); }catch{}
        const openNewTab = isExternal || a.getAttribute('target')==='_blank';
        if(openNewTab){ e.preventDefault(); e.stopImmediatePropagation(); const win = window.open(href, '_blank'); if(!win){ location.href = href; } }
      }, true);
    })();

    /* ========== Theme toggle (Auto → Light → Dark) ========== */
    const THEME_KEY = 'theme-1719';
    const root = document.documentElement;
    function applyTheme(mode){ root.setAttribute('data-theme', mode); localStorage.setItem(THEME_KEY, mode); paintToggleIcon(mode); }
    function paintToggleIcon(mode){
      const svgAuto = `
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
          <circle cx="12" cy="12" r="5" fill="currentColor" opacity=".9"/>
          <text x="12" y="22" text-anchor="middle" font-size="7" font-family="monospace" fill="currentColor" opacity=".9">AUTO</text>
        </svg>`;
      const svgSun = `
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="4"></circle>
          <path d="M12 2v2m0 16v2M2 12h2m16 0h2M4.9 4.9l1.4 1.4M17.7 17.7l1.4 1.4M4.9 19.1l1.4-1.4M17.7 6.3l1.4-1.4"/>
        </svg>`;
      const svgMoon = `
        <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>`;
      const icon = mode==='auto' ? svgAuto : mode==='light' ? svgSun : svgMoon;
      document.querySelectorAll('#themeToggle,#themeToggleM').forEach(btn=>btn.innerHTML = icon);
    }
    function cycleTheme(){ const cur = root.getAttribute('data-theme') || 'auto'; const next = cur==='auto' ? 'light' : cur==='light' ? 'dark' : 'auto'; applyTheme(next); }
    document.getElementById('themeToggle').addEventListener('click', cycleTheme);
    document.getElementById('themeToggleM').addEventListener('click', cycleTheme);
    applyTheme(localStorage.getItem(THEME_KEY) || 'auto');

    /* ========== Live Shots (UNICO carosello) ========== */
    // AGGIORNA QUI le immagini "Live Shots"
    const liveImages = [
      'https://media-cdn.tripadvisor.com/media/photo-s/21/e8/71/95/19-il-nostro-stile-accogliente.jpg',
      'https://img3.restaurantguru.com/c493-Pub-and-bar-17-19-interior.jpg',
      'https://iorampo.com/wp-content/uploads/2024/12/17-19-800x600.jpg'
    ];
    (function(){
      const box  = document.getElementById('liveCarousel');
      const dots = document.getElementById('liveDots');
      if(!box) return;
      let i = 0; const slides=[], bullets=[];
      liveImages.forEach((src,idx)=>{
        const s = document.createElement('div'); s.className='slide'+(idx===0?' active':'');
        const im=new Image(); im.src=src; im.alt='Live '+(idx+1);
        Object.assign(im.style,{width:'100%',height:'100%',objectFit:'cover'}); im.loading='lazy';
        s.appendChild(im); box.appendChild(s); slides.push(s);
        const b=document.createElement('button'); b.className='dot'+(idx===0?' active':''); b.addEventListener('click',()=>go(idx)); dots.appendChild(b); bullets.push(b);
      });
      function go(n){ slides[i].classList.remove('active'); bullets[i]?.classList.remove('active'); i=n; slides[i].classList.add('active'); bullets[i]?.classList.add('active'); }
      setInterval(()=>{ if(slides.length>1) go((i+1)%slides.length); }, 5000);
    })();

    /* ========== POSTER base (verrà sovrascritto dal PROSSIMO evento) ========== */
    const posterData = {
      venue: '17/19 URBAN BISTROT',
      series: 'ELECTRO TECHNO NIGHT',
      date:   'WEDNESDAY 03/09',
      tagline:'TECHNO • ELECTRO • VINYL',
      curatedBy:'CURATED BY RICCARDO BATTAGLIA',
      origin: { x: 48, y: 56 },
      artists: [
        { name:'DANIELE PAVONI',  x: 12, y: 80 },
        { name:'MIN-ED',          x: 60, y: 74 },
        { name:'LORENZO PALAZZI', x: 66, y: 44 }
      ],
      logos:[ { text:'CASAMIGOS' }, { text:'FUNKTION-ONE' }, { text:'TMAG' }, { text:'ORGANICS' } ]
    };

    function renderPoster(){
      const set = (id,txt)=>{ const el=document.getElementById(id); if(el) el.textContent=(txt||'').toUpperCase(); };
      set('posterVenue', posterData.venue);
      set('posterSeries',posterData.series);
      set('posterDate',  posterData.date);
      set('posterTagline', posterData.tagline);
      set('posterCurated', posterData.curatedBy);
      const svg = document.getElementById('posterSvg');
      const canvas = document.getElementById('posterCanvas');
      const logosWrap = document.getElementById('posterLogos');
      svg.innerHTML=''; canvas.querySelectorAll('.artist').forEach(n=>n.remove()); logosWrap.innerHTML='';
      // origine
      const originDot = document.createElementNS('http://www.w3.org/2000/svg','circle');
      originDot.setAttribute('cx', posterData.origin.x);
      originDot.setAttribute('cy', posterData.origin.y);
      originDot.setAttribute('r', '0.8'); originDot.setAttribute('fill','currentColor'); svg.appendChild(originDot);
      // linee + label (accorciate per non toccare il testo)
      (posterData.artists||[]).forEach((a,i)=>{
        const dx = a.x - posterData.origin.x, dy = a.y - posterData.origin.y;
        const f = 0.975; const endX = posterData.origin.x + dx * f; const endY = posterData.origin.y + dy * f;
        const line = document.createElementNS('http://www.w3.org/2000/svg','line');
        line.setAttribute('x1', posterData.origin.x); line.setAttribute('y1', posterData.origin.y);
        line.setAttribute('x2', endX); line.setAttribute('y2', endY);
        line.setAttribute('stroke','currentColor'); line.style.strokeDasharray='120'; line.style.strokeDashoffset='120'; line.style.animation=`lineDraw .9s ease forwards ${i*0.08}s`;
        svg.appendChild(line);
        const end = document.createElementNS('http://www.w3.org/2000/svg','rect');
        end.setAttribute('x', endX-0.6); end.setAttribute('y', endY-0.6); end.setAttribute('width','1.2'); end.setAttribute('height','1.2'); end.setAttribute('fill','currentColor'); svg.appendChild(end);
        const label = document.createElement('div'); label.className = 'artist'; label.style.left = a.x + '%'; label.style.top  = a.y + '%';
        label.innerHTML = `<span class="dot"></span>${a.name}`; canvas.appendChild(label);
      });
      // sponsor
      (posterData.logos||[]).forEach(L=>{
        if(L.src){ const img=new Image(); img.src=L.src; img.alt=L.alt||'logo'; img.style.maxHeight='14px'; img.style.opacity='.9'; logosWrap.appendChild(img); }
        else if(L.text){ const s=document.createElement('span'); s.textContent=L.text; s.style.fontWeight='900'; s.style.fontSize='.72rem'; s.style.letterSpacing='.12em'; logosWrap.appendChild(s); }
      });
    }
    renderPoster();

    /* ========== DATI EVENTI (AGGIORNA SOLO QUI) ========== */
    // Schema evento:
    // {
    //   dateISO: 'YYYY-MM-DD',
    //   dow: 'LUN/MAR/MER/GIO/VEN/SAB/DOM' (opzionale, calcolato se mancante),
    //   venue: '17/19 URBAN BISTROT',
    //   title: 'Titolo/tema serata',
    //   genres: ['TECHNO','ELECTRO','VINYL'],
    //   start: '22:30',
    //   curatedBy: 'Riccardo Battaglia',
    //   headliner: 'NOME DJ',
    //   guests: ['OSPITE 1','OSPITE 2'],
    //   sponsors: [{text:'CASAMIGOS'},{src:'https://…',alt:'…'}],
    //   poster:{ origin:{x:48,y:56}, positions:[{x:12,y:80},{x:60,y:74},{x:66,y:44}] }
    // }
    const events = [
      {
        dateISO:'2025-09-03',
        venue:'17/19 URBAN BISTROT',
        title:'Electro Techno • Vinyl Only',
        genres:['TECHNO','ELECTRO','VINYL'],
        start:'22:30',
        curatedBy:'Riccardo Battaglia',
        headliner:'DANIELE PAVONI',
        guests:['MIN-ED','LORENZO PALAZZI'],
        sponsors:[{text:'CASAMIGOS'},{text:'FUNKTION-ONE'},{text:'TMAG'},{text:'ORGANICS'}],
        poster:{ origin:{x:48,y:56}, positions:[{x:12,y:80},{x:60,y:74},{x:66,y:44}] }
      },
      {
        dateISO:'2025-09-05',
        venue:'17/19 URBAN BISTROT',
        title:'Acid District',
        genres:['ACID','TECHNO','VINYL'],
        start:'22:30',
        curatedBy:'Riccardo Battaglia',
        headliner:'ALBA NERA',
        guests:['RBN','GIO BERLIN'],
        sponsors:[{text:'CASAMIGOS'}],
        poster:{ origin:{x:52,y:58}, positions:[{x:20,y:70},{x:68,y:60},{x:72,y:32}] }
      },
      {
        dateISO:'2025-09-07',
        venue:'17/19 URBAN BISTROT',
        title:'Minimal Sunday',
        genres:['MINIMAL','DEEP','VINYL'],
        start:'18:00',
        curatedBy:'Riccardo Battaglia',
        headliner:'MARCO VOSS',
        guests:['LIVIA FERRO'],
        sponsors:[{text:'ORGANICS'}],
        poster:{ origin:{x:44,y:54}, positions:[{x:18,y:76},{x:66,y:42},{x:70,y:70}] }
      }
    ];

    function toItDowShort(d){ return d.toLocaleString('it-IT',{weekday:'short'}).toUpperCase(); }
    function toMonShort(d){ return d.toLocaleString('it-IT',{month:'short'}).toUpperCase(); }
    function formatPosterDate(iso){
      const d = new Date(iso + 'T12:00:00Z');
      const days = ['SUNDAY','MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY'];
      const dd = String(d.getUTCDate()).padStart(2,'0');
      const mm = String(d.getUTCMonth()+1).padStart(2,'0');
      return `${days[d.getUTCDay()]} ${dd}/${mm}`;
    }
    function pickNextEvent(){
      const today = new Date(); today.setHours(0,0,0,0);
      const up = events.filter(e=>!isNaN(new Date(e.dateISO)) && new Date(e.dateISO) >= today)
                       .sort((a,b)=> new Date(a.dateISO)-new Date(b.dateISO));
      return up[0] || events.sort((a,b)=> new Date(a.dateISO)-new Date(b.dateISO))[0];
    }
    function bindPosterFromEvent(ev){
      const names = [ev.headliner].concat(ev.guests||[]).filter(Boolean).map(s=>s.toUpperCase());
      const pos = (ev.poster && ev.poster.positions) || [];
      const origin = (ev.poster && ev.poster.origin) || {x:48,y:56};
      posterData.venue    = (ev.venue||'17/19 URBAN BISTROT').toUpperCase();
      posterData.series   = (ev.title||'').toUpperCase();
      posterData.date     = formatPosterDate(ev.dateISO);
      posterData.tagline  = (ev.genres && ev.genres.length ? ev.genres.join(' • ') : 'TECHNO • ELECTRO • VINYL').toUpperCase();
      posterData.curatedBy= ('CURATED BY ' + (ev.curatedBy || 'RICCARDO BATTAGLIA')).toUpperCase();
      posterData.origin   = origin;
      posterData.artists  = names.slice(0,3).map((n,i)=> ({ name:n, x: pos[i]?.x ?? (22 + i*26), y: pos[i]?.y ?? (45 + i*18) }));
      posterData.logos    = (ev.sponsors || []).map(s => s.src ? {src:s.src, alt:s.alt||'logo'} : {text:(s.text||'').toUpperCase()});
      renderPoster();
    }

    // Render lista eventi
    function renderEvents(){
      const list = document.getElementById('eventsList'); if(!list) return;
      list.innerHTML='';
      const sorted = [...events].sort((a,b)=> new Date(a.dateISO)-new Date(b.dateISO));
      sorted.forEach(ev=>{
        const d = new Date(ev.dateISO + 'T12:00:00');
        const day = String(d.getUTCDate()).padStart(2,'0');
        const mon = toMonShort(d);
        const dow = (ev.dow || toItDowShort(d)).slice(0,3).toUpperCase();
        const guests = ev.guests && ev.guests.length ? ` • Guests: ${ev.guests.join(', ')}` : '';
        const el = document.createElement('div'); el.className='event';
        el.innerHTML = `
          <div class="event__date">
            <div class="event__dow">${dow}</div>
            <div class="event__day">${day} ${mon}</div>
          </div>
          <div>
            <strong>${ev.title}</strong>
            <div class="event__meta">Start ${ev.start} • ${ev.genres.join(' / ')}${guests}</div>
          </div>
          <a class="pill pill--ghost event__cta" href="https://wa.me/393298252092?text=Lista%20${encodeURIComponent(ev.title)}" target="_blank" rel="noopener">Entra in lista</a>
        `;
        list.appendChild(el);
      });
    }

    // Init
    renderEvents();
    bindPosterFromEvent(pickNextEvent());

    /* ========== Gallery (con crediti) ========== */
    const galleryData = [
      { src:'https://img3.restaurantguru.com/c493-Pub-and-bar-17-19-interior.jpg', alt:'Interni 17/19', credit:'Restaurant Guru', href:'https://restaurantguru.it/1719-LIve-Eat-Drink-Love-Rome' },
      { src:'https://img.restaurantguru.com/ccd7-17-19-Stenfields-and-c-Rome-dishes.jpg', alt:'Piatti 17/19', credit:'Restaurant Guru', href:'https://restaurantguru.it/1719-LIve-Eat-Drink-Love-Rome' },
      { src:'https://img3.restaurantguru.com/c467-Pub-and-bar-17-19-Stenfields-and-c-exterior.jpg', alt:'Esterni 17/19', credit:'Restaurant Guru', href:'https://restaurantguru.it/1719-LIve-Eat-Drink-Love-Rome' },
      { src:'https://iorampo.com/wp-content/uploads/2024/12/17-19-800x600.jpg', alt:'Bar 17/19', credit:'IoRampo', href:'https://iorampo.com' }
    ];
    const galleryGrid = document.getElementById('galleryGrid');
    galleryData.forEach(g=>{
      const a=document.createElement('a'); a.href=g.href; a.target='_blank'; a.rel='noopener';
      a.innerHTML = `<img loading="lazy" decoding="async" src="${g.src}" alt="${g.alt}"><span class="credit">© ${g.credit}</span>`;
      galleryGrid.appendChild(a);
    });
  </script>
</body>
</html>
